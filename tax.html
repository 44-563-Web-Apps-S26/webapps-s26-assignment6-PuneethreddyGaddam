<!DOCTYPE html>
<html>
<head>
    <title>Tax Table Computation</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-body-tertiary">

<div class="container py-4">
<h2 class="mb-4">Puneethreddy Gaddam tax table computation</h2>

<div class="card shadow-sm mb-3">
<div class="card-body">
<form class="row g-3">
    <div class="col-md-6">
        <label for="income" class="form-label">Enter income</label>
        <input type="number" id="income" name="income" value="5000" class="form-control">
    </div>

    <div class="col-md-6">
        <label for="baseRate" class="form-label">Enter the base tax rate</label>
        <input type="number" id="baseRate" name="baseRate" value="0.05" step="0.01" class="form-control">
    </div>

    <div class="col-md-6">
        <label for="cutoff" class="form-label">Enter the cut off</label>
        <input type="number" id="cutoff" name="cutoff" value="7500" class="form-control">
    </div>

    <div class="col-md-6">
        <label for="extRate" class="form-label">Enter the extended rate</label>
        <input type="number" id="extRate" name="extRate" value="0.15" step="0.01" class="form-control">
    </div>

    <div class="col-12">
        <input type="button" onclick="doTax()" value="Show tax table" class="btn btn-primary">
    </div>
</form>
</div>
</div>

<div class="card shadow-sm mb-3">
<div class="card-body">
<form>
    <div class="form-check">
        <input class="form-check-input" type="radio" id="opExponent" name="operation" value="exponent" onclick="chooseOp()" checked>
        <label class="form-check-label" for="opExponent">power</label>
    </div>

    <div class="form-check">
        <input class="form-check-input" type="radio" id="opAdd" name="operation" value="add" onclick="chooseOp()">
        <label class="form-check-label" for="opAdd">sum</label>
    </div>

    <div class="form-check">
        <input class="form-check-input" type="radio" id="opMod" name="operation" value="mod" onclick="chooseOp()">
        <label class="form-check-label" for="opMod">mod</label>
    </div>
</form>
</div>
</div>

<p id="result" class="alert alert-info">This text will be replaced</p>
<p id="opResult" class="alert alert-secondary">Operation result will be shown here</p>
</div>

<script>
function doTax() {
    const income = Number(document.getElementById("income").value);
    const cutoff = Number(document.getElementById("cutoff").value);
    const baseRate = Number(document.getElementById("baseRate").value);
    const extRate = Number(document.getElementById("extRate").value);

    let taxTable = "";

    for (let i = 1; i <= 5; i++) {
        const incomeLevel = i * income;
        let tax;

        if (incomeLevel <= cutoff) {
            tax = incomeLevel * baseRate;
        } else {
            tax = (cutoff * baseRate) + ((incomeLevel - cutoff) * extRate);
        }

        taxTable += "incomeLevel " + incomeLevel + " is " + tax + "; ";
    }

    document.getElementById("result").innerHTML = "Taxes are: " + taxTable;
}

function chooseOp() {
    const income = Number(document.getElementById("income").value);
    const baseRate = Number(document.getElementById("baseRate").value);
    let outText = "";

    if (document.getElementById("opExponent").checked) {
        const value = income ** baseRate;
        outText = income + " to the power of " + baseRate + " is " + value;
    } else if (document.getElementById("opAdd").checked) {
        const value = income + baseRate;
        outText = income + " + " + baseRate + " is " + value;
    } else if (document.getElementById("opMod").checked) {
        const value = income % baseRate;
        outText = income + "%" + baseRate + " is " + value;
    }

    document.getElementById("opResult").innerHTML = outText;
}
</script>

</body>
</html>
