<!DOCTYPE html>
<html>
<head>
    <title>Villain Input Form</title>
</head>
<body>

<h2>Villains by Puneeth Reddy Gaddam</h2>

<form>
    <label for="funny_man">Funny Man </label>
    <input type="password" id="funny_man" name="funny_man" value="Joker"> <br>

    <label for="guess_villain">Guess the villain </label>
    <input type="text" id="guess_villain" name="guess_villain" autofocus> <br>

    <input type="button" id="checkBtn" onclick="checkVillain()" value="Check the guess">
</form>

<div id="result">Caught: 0 | Got away: 0</div>

<div>
    <img id="treePic" src="images/Tree 1.png" alt="Tree image" width="150" height="150" onclick="updatePic()">
</div>

<script>
let caught = 0
let gotAway = 0
let usePic = 1

function checkVillain() {
    const secretVillain = document.getElementById("funny_man").value
    const guessedVillain = document.getElementById("guess_villain").value

    if (secretVillain === guessedVillain) {
        caught = caught + 1
        alert("You caught them")
    } else {
        gotAway = gotAway + 1
        alert("Maybe next time")
    }

    document.getElementById("result").innerHTML = "Caught: " + caught + " | Got away: " + gotAway

    if (gotAway > 10) {
        document.getElementById("checkBtn").setAttribute("onclick", "tooManyGuesses()")
    }
}

function tooManyGuesses() {
    alert("Sorry, too many wrong guesses.")
}

function updatePic() {
    const treeImage = document.getElementById("treePic")

    switch (usePic) {
        case 1:
            treeImage.src = "images/Tree 1.png"
            usePic = 2
            break
        case 2:
            treeImage.src = "images/Tree 2.png"
            usePic = 3
            break
        case 3:
            treeImage.src = "images/Tree 3.png"
            usePic = 1
            break
    }
}
</script>

</body>
</html>
