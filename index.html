<!DOCTYPE html>
<html>
<head>
    <title>Villain Input Form</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">
<h2 class="mb-4">Villains by Puneeth Reddy Gaddam</h2>

<div class="card shadow-sm mb-3">
<div class="card-body">
    <h5 class="card-title">Quick Links</h5>
    <div class="d-flex gap-2 flex-wrap">
        <a class="btn btn-primary" href="trip.html">Go to Trip Page</a>
        <a class="btn btn-success" href="tax.html">Go to Tax Page</a>
    </div>
</div>
</div>

<div class="card shadow-sm">
<div class="card-body">
<form class="row g-3">
    <div class="col-md-6">
        <label for="funny_man" class="form-label">Funny Man</label>
        <input type="password" id="funny_man" name="funny_man" value="Joker" class="form-control">
    </div>

    <div class="col-md-6">
        <label for="guess_villain" class="form-label">Guess the villain</label>
        <input type="text" id="guess_villain" name="guess_villain" autofocus class="form-control">
    </div>

    <div class="col-12">
        <input type="button" id="checkBtn" onclick="checkVillain()" value="Check the guess" class="btn btn-primary">
    </div>
</form>

<div id="result" class="alert alert-info mt-3 mb-3">Caught: 0 | Got away: 0</div>

<div class="text-center">
    <img id="treePic" src="images/Tree 1.png" alt="Tree image" width="180" height="180" onclick="updatePic()" class="rounded border border-2 border-success-subtle" style="cursor:pointer;">
</div>
</div>
</div>
</div>

<script>
let caught = 0
let gotAway = 0
let usePic = 1

function checkVillain() {
    const secretVillain = document.getElementById("funny_man").value
    const guessedVillain = document.getElementById("guess_villain").value

    if (secretVillain === guessedVillain) {
        caught = caught + 1
        alert("You caught them")
    } else {
        gotAway = gotAway + 1
        alert("Maybe next time")
    }

    document.getElementById("result").innerHTML = "Caught: " + caught + " | Got away: " + gotAway

    if (gotAway > 10) {
        document.getElementById("checkBtn").setAttribute("onclick", "tooManyGuesses()")
        document.getElementById("checkBtn").className = "btn btn-danger"
    }
}

function tooManyGuesses() {
    alert("Sorry, too many wrong guesses.")
}

function updatePic() {
    const treeImage = document.getElementById("treePic")

    switch (usePic) {
        case 1:
            treeImage.src = "images/Tree 1.png"
            usePic = 2
            break
        case 2:
            treeImage.src = "images/Tree 2.png"
            usePic = 3
            break
        case 3:
            treeImage.src = "images/Tree 3.png"
            usePic = 1
            break
    }
}
</script>

</body>
</html>
